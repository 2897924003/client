import{ref as f,onMounted as R,resolveComponent as b,mergeProps as B,withCtx as s,openBlock as _,createBlock as y,createCommentVNode as P,createVNode as l,toDisplayString as N,useSSRContext as I}from"vue";import{ssrRenderComponent as o,ssrRenderStyle as W,ssrInterpolate as M}from"vue/server-renderer";import E from"axios";import{_ as G}from"../server-entry.js";import"quasar";import"quasar/wrappers/index.mjs";import"pinia";import"vue-router";const w={__name:"UserAuthPage",__ssrInlineRender:!0,setup(C){const v=[{name:"userId",required:!0,label:"ID",field:"userId",align:"center",sortable:!1},{name:"username",required:!0,label:"用户名",field:"username",align:"center",sortable:!1},{name:"createUser",required:!0,label:"创建人",field:"createUser",align:"center",sortable:!1},{name:"updateUser",required:!0,label:"修改人",field:"updateUser",align:"center",sortable:!1},{name:"createTime",required:!0,label:"创建时间",field:"createTime",align:"center",sortable:!0},{name:"updateTime",required:!0,label:"修改时间",field:"updateTime",align:"center",sortable:!0},{name:"authLevel",required:!0,label:"权限级别",field:"authLevel",align:"center",sortable:!0},{name:"enabled",required:!0,label:"账号状态",field:"enabled",align:"center",sortable:!0}],d=f([]);R(async()=>{const x=await E.post("https://test.opensun.asia/api/authentication/user_infos",{},{headers:{Authorization:sessionStorage.getItem("jwt")}});d.value=x.data.records});const u=f([]),m=f(""),q=f(!1),p=f({sortBy:"desc",descending:!1,page:2,rowsPerPage:10,rowsNumber:1}),U=()=>u.value.length===0?"":`${u.value.length} record${u.value.length>1?"s":""} selected of ${d.value.length}`;return(x,$,z,F)=>{const T=b("q-page"),V=b("q-table"),t=b("q-btn"),k=b("q-input"),i=b("q-icon");$(o(T,B({class:"row justify-center"},F),{default:s((H,h,A,S)=>{if(h)h(`<div class="q-pa-md justify-center" style="${W({width:"100%",height:"100%"})}"${S}>`),h(o(V,{"card-class":"bg-green",color:"red",title:"用户管理",rows:d.value,columns:v,"row-key":"userId",selection:"multiple","selected-rows-label":U,selected:u.value,"onUpdate:selected":e=>u.value=e,loading:q.value,pagination:p.value,"onUpdate:pagination":e=>p.value=e,"no-data-label":"I didn't find anything for you","no-results-label":"The filter didn't uncover any results"},{pagination:s((e,a,r,n)=>{if(a)e.pagesNumber>2?a(o(t,{icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.firstPage},null,r,n)):a("<!---->"),a(o(t,{icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.prevPage},null,r,n)),a(o(t,{icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.nextPage},null,r,n)),e.pagesNumber>2?a(o(t,{icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.lastPage},null,r,n)):a("<!---->");else return[e.pagesNumber>2?(_(),y(t,{key:0,icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.firstPage},null,8,["disable","onClick"])):P("",!0),l(t,{icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.prevPage},null,8,["disable","onClick"]),l(t,{icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.nextPage},null,8,["disable","onClick"]),e.pagesNumber>2?(_(),y(t,{key:1,icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.lastPage},null,8,["disable","onClick"])):P("",!0)]}),"top-right":s((e,a,r,n)=>{if(a)a(o(k,{borderless:"",dense:"",debounce:"500",modelValue:m.value,"onUpdate:modelValue":c=>m.value=c,hint:"Debouncing 500ms",placeholder:"Search"},{append:s((c,g,D,j)=>{if(g)g(o(i,{name:"search"},null,D,j));else return[l(i,{name:"search"})]}),_:1},r,n));else return[l(k,{borderless:"",dense:"",debounce:"500",modelValue:m.value,"onUpdate:modelValue":c=>m.value=c,hint:"Debouncing 500ms",placeholder:"Search"},{append:s(()=>[l(i,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])]}),"no-data":s(({icon:e,message:a,filter:r},n,c,g)=>{if(n)n(`<div class="full-width row flex-center text-accent q-gutter-sm"${g}>`),n(o(i,{size:"2em",name:"sentiment_dissatisfied"},null,c,g)),n(`<span${g}> Well this is sad... ${M(a)}</span>`),n(o(i,{size:"2em",name:r?"filter_b_and_w":e},null,c,g)),n("</div>");else return[l("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[l(i,{size:"2em",name:"sentiment_dissatisfied"}),l("span",null," Well this is sad... "+N(a),1),l(i,{size:"2em",name:r?"filter_b_and_w":e},null,8,["name"])])]}),_:1},A,S)),h("</div>");else return[l("div",{class:"q-pa-md justify-center",style:{width:"100%",height:"100%"}},[l(V,{"card-class":"bg-green",color:"red",title:"用户管理",rows:d.value,columns:v,"row-key":"userId",selection:"multiple","selected-rows-label":U,selected:u.value,"onUpdate:selected":e=>u.value=e,loading:q.value,pagination:p.value,"onUpdate:pagination":e=>p.value=e,"no-data-label":"I didn't find anything for you","no-results-label":"The filter didn't uncover any results"},{pagination:s(e=>[e.pagesNumber>2?(_(),y(t,{key:0,icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.firstPage},null,8,["disable","onClick"])):P("",!0),l(t,{icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.prevPage},null,8,["disable","onClick"]),l(t,{icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.nextPage},null,8,["disable","onClick"]),e.pagesNumber>2?(_(),y(t,{key:1,icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.lastPage},null,8,["disable","onClick"])):P("",!0)]),"top-right":s(()=>[l(k,{borderless:"",dense:"",debounce:"500",modelValue:m.value,"onUpdate:modelValue":e=>m.value=e,hint:"Debouncing 500ms",placeholder:"Search"},{append:s(()=>[l(i,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),"no-data":s(({icon:e,message:a,filter:r})=>[l("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[l(i,{size:"2em",name:"sentiment_dissatisfied"}),l("span",null," Well this is sad... "+N(a),1),l(i,{size:"2em",name:r?"filter_b_and_w":e},null,8,["name"])])]),_:1},8,["rows","selected","onUpdate:selected","loading","pagination","onUpdate:pagination"])])]}),_:1},z))}}},L=w.setup;w.setup=(C,v)=>{const d=I();return(d.modules||(d.modules=new Set)).add("src/pages/UserAuthPage.vue"),L?L(C,v):void 0};const le=G(w,[["__file","UserAuthPage.vue"]]);export{le as default};
